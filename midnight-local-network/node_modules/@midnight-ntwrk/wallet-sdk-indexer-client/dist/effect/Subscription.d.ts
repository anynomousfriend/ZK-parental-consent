import { Effect, Stream, Context } from 'effect';
import { ClientError, ServerError } from '@midnight-ntwrk/wallet-sdk-utilities/networking';
import { SubscriptionClient } from './SubscriptionClient.js';
import type { Query } from './Query.js';
/**
 * Describes a subscription of elements from an invocable GraphQL query.
 */
export interface Subscription<R, V, F extends Subscription.SubscriptionFn<R, V> = Subscription.SubscriptionFn<R, V>> extends Effect.Effect<F> {
    readonly tag: Context.Tag<Subscription<R, V>, F>;
    readonly run: F;
}
export declare namespace Subscription {
    /**
     * Describes a function that streams a GraphQL subscription for some given variables.
     *
     * @param variables The variables to be used in the GraphQL query.
     * @returns A `Stream` that will yield the elements of the GraphQL subscription.
     */
    type SubscriptionFn<R, V> = (variables: V) => Stream.Stream<R, ClientError | ServerError, SubscriptionClient>;
}
export declare const make: <Name extends string, T extends Query.Document<R, V>, R = Query.Result<T>, V = Query.Variables<T>>(name: Name, document: T) => Subscription<R, V>;
