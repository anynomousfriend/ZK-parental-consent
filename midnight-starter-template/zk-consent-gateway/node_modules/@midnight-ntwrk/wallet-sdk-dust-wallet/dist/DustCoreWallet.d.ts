import { Bindingish, DustLocalState, DustNullifier, DustParameters, DustPublicKey, DustSecretKey, Proofish, Signaturish, Transaction, Event } from '@midnight-ntwrk/ledger-v7';
import { ProtocolVersion } from '@midnight-ntwrk/wallet-sdk-abstractions';
import { SyncProgress } from '@midnight-ntwrk/wallet-sdk-shielded/v1';
import { DustToken, DustTokenWithNullifier } from './types/Dust.js';
import { CoinWithValue } from './CoinsAndBalances.js';
import { NetworkId, UnprovenDustSpend } from './types/ledger.js';
export type PublicKey = {
    publicKey: DustPublicKey;
};
export declare const PublicKey: {
    fromSecretKey: (secretKey: DustSecretKey) => PublicKey;
};
export declare class DustCoreWallet {
    readonly state: DustLocalState;
    readonly publicKey: PublicKey;
    readonly protocolVersion: ProtocolVersion.ProtocolVersion;
    readonly progress: SyncProgress.SyncProgress;
    readonly networkId: NetworkId;
    readonly pendingDustTokens: Array<DustTokenWithNullifier>;
    constructor(state: DustLocalState, publicKey: PublicKey, networkId: NetworkId, pendingDustTokens?: Array<DustTokenWithNullifier>, syncProgress?: Omit<SyncProgress.SyncProgressData, 'isConnected'>, protocolVersion?: ProtocolVersion.ProtocolVersion);
    static init(localState: DustLocalState, secretKey: DustSecretKey, networkId: NetworkId): DustCoreWallet;
    static readonly initEmpty: (dustParameters: DustParameters, secretKey: DustSecretKey, networkId: NetworkId) => DustCoreWallet;
    static empty(localState: DustLocalState, publicKey: PublicKey, networkId: NetworkId): DustCoreWallet;
    static restore(localState: DustLocalState, publicKey: PublicKey, pendingTokens: Array<DustTokenWithNullifier>, syncProgress: SyncProgress.SyncProgressData, protocolVersion: bigint, networkId: NetworkId): DustCoreWallet;
    applyEvents(secretKey: DustSecretKey, events: Event[], currentTime: Date): DustCoreWallet;
    applyFailed(tx: Transaction<Signaturish, Proofish, Bindingish>): DustCoreWallet;
    revertTransaction<TTransaction extends Transaction<Signaturish, Proofish, Bindingish>>(tx: TTransaction): DustCoreWallet;
    updateProgress({ appliedIndex, highestRelevantWalletIndex, highestIndex, highestRelevantIndex, isConnected, }: Partial<SyncProgress.SyncProgressData>): DustCoreWallet;
    spendCoins(secretKey: DustSecretKey, coins: ReadonlyArray<CoinWithValue<DustToken>>, currentTime: Date): [ReadonlyArray<UnprovenDustSpend>, DustCoreWallet];
    static pendingDustTokensToMap(tokens: Array<DustTokenWithNullifier>): Map<DustNullifier, DustToken>;
}
